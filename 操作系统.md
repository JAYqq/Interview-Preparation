1. 为什么多进程下载更快

   这个直接的原因是窗口大小的问题，而根本原因是TCP的拥塞控制算法的不精准。TCP约束性能主要有流控和拥塞控制，流控主要是参考接受方，跟链路无关，所以主要的原因出在拥塞控制。

   单个线程开启单个TCP链接，在传输数据的时候如果出现丢包，那么就会导致拥塞控制算法会调整窗口大小，然后缓慢增加窗口大小，而这个缓慢增加的过程可以用多线程来避免，因为多个线程可以更快速调整窗口大小，使平均窗口大小会更大。而单线程要占满带宽需要意味着窗口大小要足够大，但是单线程无法保证一直满带宽。

2. 进程调度

   ###  批处理系统

   批处理系统没有太多的用户操作，在该系统中，调度算法目标是保证吞吐量和周转时间（从提交到终止的时间）。

   也就是用户提交了作业以后，就和操作系统不打交道了。

   **1.1 先来先服务 first-come first-serverd（FCFS）**

   非抢占式的调度算法，按照请求的顺序进行调度。

   有利于长作业，但不利于短作业，因为短作业必须一直等待前面的长作业执行完毕才能执行，而长作业又需要执行很长时间，造成了短作业等待时间过长。

   **1.2 短作业优先 shortest job first（SJF）**

   非抢占式的调度算法，按估计运行时间最短的顺序进行调度。

   长作业有可能会饿死，处于一直等待短作业执行完毕的状态。因为如果一直有短作业到来，那么长作业永远得不到调度。

   **1.3 最短剩余时间优先 shortest remaining time next（SRTN）**

   最短作业优先的抢占式版本，按剩余运行时间的顺序进行调度。 当一个新的作业到达时，其整个运行时间与当前进程的剩余时间作比较。如果新的进程需要的时间更少，则挂起当前进程，运行新的进程。否则新的进程等待。

   ## 交互式系统

   交互式系统有大量的用户交互操作，在该系统中调度算法的目标是快速地进行响应。

   **2.1 时间片轮转**

   将所有就绪进程按 FCFS 的原则排成一个队列，每次调度时，把 CPU 时间分配给队首进程，该进程可以执行一个时间片。当时间片用完时，由计时器发出时钟中断，调度程序便停止该进程的执行，并将它送往就绪队列的末尾，同时继续把 CPU 时间分配给队首的进程。

   时间片轮转算法的效率和时间片的大小有很大关系：

   - 因为进程切换都要保存进程的信息并且载入新进程的信息，如果时间片太小，会导致进程切换得太频繁，在进程切换上就会花过多时间。
   - 而如果时间片过长，那么实时性就不能得到保证。

   [![img](https://camo.githubusercontent.com/8ff909218be7e1269ee5912f0aba9fcb3552df3b/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f38633636323939392d633136632d343831632d396634302d3166646261356263393136372e706e67)](https://camo.githubusercontent.com/8ff909218be7e1269ee5912f0aba9fcb3552df3b/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f38633636323939392d633136632d343831632d396634302d3166646261356263393136372e706e67)

   

   **2.2 优先级调度**

   为每个进程分配一个优先级，按优先级进行调度。

   为了防止低优先级的进程永远等不到调度，可以随着时间的推移增加等待进程的优先级。

   **2.3 多级反馈队列**

   一个进程需要执行 100 个时间片，如果采用时间片轮转调度算法，那么需要交换 100 次。

   多级队列是为这种需要连续执行多个时间片的进程考虑，它设置了多个队列，每个队列时间片大小都不同，例如 1,2,4,8,..。进程在第一个队列没执行完，就会被移到下一个队列。这种方式下，之前的进程只需要交换 7 次。

   每个队列优先权也不同，最上面的优先权最高。因此只有上一个队列没有进程在排队，才能调度当前队列上的进程。

   可以将这种调度算法看成是时间片轮转调度算法和优先级调度算法的结合。

3. 进程和线程的区别

   - 进程是资源分配的基本单位，但是线程不具有资源，线程可以访问隶属进程的资源。
   - 线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。
   - 

4. ### 交互式系统

   

